<h1 align="center">微信小程序</h1>

[微信官方文档](https://developers.weixin.qq.com/doc/)

单位：rpx

[微信小程序官方文档](https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/getstart.html)

小程序特点：

1.没有DOM 对象，一切基于组件化

2.体积小，不能大于2M

3.适配方案

​	view-port

​	rem

##### 移动端适配



物理像素

css像素

设备独立像素



dpr

物理像素/设备独立像素



设备独立像素 375*667

物理像素 750*1334

布局视口   写页面按这个

​				980px（默认）

​				375px  做了适配后（理想视口）

视觉视口 375px



##### 设置值

this.setDate({

​	xxx:xxx

})

##### 获取值

this.data.xxx



##### 事件绑定

​	冒泡

##### bind绑定

​	写法 bindxxx='callback' 或者 bind:xxx=‘callback’

##### catch绑定

​	写法 catchxxx='callback' 或者 catch:xxx=‘callback’

##### 路由跳转

```js
wx.navigateTo({

      url: '/pages/list/list/pages',

    })
```



##### 生成模板文件夹

​	新建目录——>新建Page

##### 获取用户信息授权

获取用户信息授权,使用button组件，当用户点击时，弹出对话框，获取授权

```html
<button open-type='getUserInfo' bindgetuserinfo='getInfo'>授权</button>
```

##### 轮播图

使用swiper组件，swiper组件中只能有swiperItem组件

```html
<swiper class='carousel'autoplay circular interval="2500" indicator-dots	indicator-active-color="#fffd7b"	>
    <swiper-item>
      <image src='/image/1569.jpg'></image>
    </swiper-item>
    <swiper-item>
      <image src='/image/cefOZzPDfRLI1.jpg'></image>
    </swiper-item>
  </swiper>
```



##### 使用模板

定义模板

只需要wxml,wxss两个文件

##### wxml

```html
<!--pages/listTemplate/listTemplate.wxml-->
<template name="msgItem">
  <view class="moudle">
    <view class="avatar">
      <image class="avatarImg" src='/image/ek.png'></image>
      <text class="nickname">{{nickname}}</text>
    </view>
    <text class="title">{{title}}</text>
    <image class="bigImg" src='/image/123.png'></image>
    <view class="text">
      正在昴拿定主意，使用了死亡回归散发出魔女的气息吸引隐匿在迷雾中的白鲸现身之 时，白鲸果然上当，径直来攻击昴和雷姆，被雷姆的冰柱隔开后，剑鬼发动奇袭，砍 ...
    </view>

  </view>
</template>
```

#### wxss

```css
正常的样式表
/* pages/listTemplate/listTemplate.wxss */
.moudle{
  display: flex;
  flex-direction: column;
}
.avatar{
  display: flex;
  padding: 15px;
  align-items: center;
}
.nickname{
  font-family: 'yahei';
  color:#aaa;
}
.avatarImg{
  width: 30px;
  height: 30px;
  border-radius: 50%;
}
.title{
  
  padding: 15px 0 15px;
  padding-left: 15px;
  font-size: 26px;
  font-family: 'youyuan';
  color: #e5004f;
  text-align: center;
}
.bigImg{
  width: 100%;
  height: 693px;
  padding: 15px 0 15px;
}
.text{
  padding: 15px 0 15px;
  font-family: 'youyuan';
  text-indent: 2em;
  line-height: 25px;
  font-size: 18px;
  color: #e5004f;
}
```

##### 引入wxss

```js
@import '/pages/listTemplate/listTemplate.wxss';
```

##### 引入wxml

```html
<import src="/pages/listTemplate/listTemplate.wxml"/>
```



##### 条件渲染

```html
<view wx:if="{{aaa}}">if exist</view>
  <view wx:if="{{list}}">if exist</view>
```



##### 列表渲染

```html
<view wx:for="{{list}}" wx:for-index="id" wx:for-item="item">
    {{id}}--->{{item.id}}---->{{item.name}}
  </view>
```

##### 跳转到其他页面

注册方法,绑定点击事件，通过`data-`传递数据,注意拿到的时字符串

```html
  <view style='background-color:red;color:white;text-align:center;width:150px;height:35px;line-height:35px;' bind:tap="goDynamic" data-index="10">
```

事件处理拿到`data-`数据,

跳转路由，携带数据，使用？

```js
  goDynamic(event){
    //得到view上的数据
    const index = event.currentTarget.dataset.index
    console.log(event.currentTarget.dataset.index)
    //跳转并携带数据
    wx.navigateTo({
      url: '/pages/dynamicPage/dynamic?index=' + index,
    })
  }
```

在跳转到的页面接收数据，设置数据

```js
 /**
   * 生命周期函数--监听页面加载
   */
  onLoad: function (options) {
    //取得路由跳转的数据
    console.log(options);
    //改变data数据
    this.setData({
      index:options.index
    })
  },
```











​	

##### 获取当前时区

```js
function getClientTimezone(){ 
  var oDate = new Date(); 
  var nTimezone = -oDate.getTimezoneOffset() / 60; 
  return nTimezone.toFixed(2); 
} 
```

##### 弹性布局

除了使用justify-content和align-items之外还可以使用和模型的属性（margin，width，padding），控制间距。